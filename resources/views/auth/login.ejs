<section class="login flex justify-center pt-24">
    <div class="w-full max-w-xs">
        <form action="/login" method="POST" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
            <% if(messages.error) { %>
                <span class="text-red-500 text-sm">
                    <%= messages.error %>
                </span>
                <% } %>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="username">
                            Email
                        </label>
                        <input name="email"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="username" type="email" placeholder="Enter your email">
                    </div>
                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="password">
                            Password
                        </label>
                        <input name="password"
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"
                            id="password" type="password" placeholder="******************">
                    </div>
                    <div class="mb-6">
                        <input type="radio"  name="location" value="Set Location" onclick="getLocation()" required="required">
                        <label for="location">Set Location</label>
                        <p id="demo"></p>

                        <script>
                            var x = document.getElementById("demo").style.color = "grey";

                            function getLocation() {
                                if (navigator.geolocation) {
                                    navigator.geolocation.getCurrentPosition(position => {
                                        let lat = position.coords.latitude
                                        let lon = position.coords.longitude
                                        const data = { lat, lon }
                                        const options = {
                                            method: 'POST',
                                            credentials: 'include',
                                            headers: {
                                                'Content-Type': 'application/json'
                                            },
                                            body: JSON.stringify(data)
                                        }
                                        fetch('/set-location', options).then(res => res.json()).catch(json => console.log(json))
                                    })
                                } else {
                                    x.innerHTML = "Geolocation is not supported by this browser.";
                                }
                            }
                        </script>
                    </div>
                    <div class="flex items-center justify-between">
                        <button
                            class="btn-primary rounded-full text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                            type="submit">
                            Log In
                        </button>
                        <a class="inline-block align-baseline font-bold text-sm" href="/register">
                            Don't have account?
                        </a>
                    </div>
        </form>
<<<<<<< HEAD
        <div class="flex items-center justify-center">
            <h3>OR</h3>
        </div> <br>
        <div class="flex items-center justify-center">
            <a href="/auth/google"> <button
                    class="btn-primary rounded-full text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                    type="submit"> Sign IN with Google </button></a>
            </a>
        </div>
=======
       
        
>>>>>>> 729a36b169e3ec2d6369fa44bb56e667101e02bf
    </div>
</section>